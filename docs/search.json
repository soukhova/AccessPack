[{"path":"/articles/A-Intro-Spatial-Avail.html","id":"accessibility-analysis","dir":"Articles","previous_headings":"","what":"Accessibility Analysis","title":"1. Introducing Spatial Availability","text":"accessibility measures (excluding utility-based measures) derived gravity model, known gravity-based accessibility. Briefly, consider following conventional accessibility measure \\(A_i\\) : \\[ A_i = \\sum_{j=1}^JW_jf(c_{ij}) \\] : \\(\\) set origin locations. \\(j\\) set destination locations. \\(W_j\\) number opportunities location \\(j\\). opportunities activity add sort supply area; \\(c_{ij}\\) measure cost moving \\(\\) \\(j\\) \\(f(\\cdot)\\) impedance (distance-decay) function (monotonically non-increasing decreasing function \\(c_{ij}\\)). accessibility value \\(A_i\\), can seen, weighted sum opportunities can reached location \\(\\), given cost travel \\(c_{ij}\\) impedance function. Summing opportunities neighborhood \\(\\) (neighborhood defined impedance function) estimates total number opportunities can reached \\(\\) certain cost. Depending impedance function, measure cumulative opportunities (\\(f(\\cdot)\\) binary indicator function) traditional gravity measure, instance Gaussian impedance function inverse cost impedance function. use toy example introduce concept spatial availability, use conventional accessibility measure comparison. way, aim show differences discuss spatial availability improves interpretability analysis spatially dispersed opportunities.","code":""},{"path":"/articles/A-Intro-Spatial-Avail.html","id":"numerical-toy-example","dir":"Articles","previous_headings":"Accessibility Analysis","what":"Numerical Toy Example","title":"1. Introducing Spatial Availability","text":"section present simple numerical example. Begin loading packages needed example: setup example simple system three employment centers nine population centers.  distribution jobs population: accessibility employment population centers can calculated using expression \\(A_i\\). noted, yields number jobs (opportunities) accessible (.e., can reached) population center, given cost. example use straight line distance population jobs \\(c_{ij}\\), negative exponential function \\(\\beta = 0.0015\\). impedance function calculated follows: Calculate accessibility: Join results geography system: Plot accessibility employment example;  plot shows three employment centers (black circles), size symbol proportion number jobs . also see nine population centers (triangles), size symbol proportional accessibility jobs. quick glance: Population centers (triangles) middle map relatively close three employment centers thus highest levels job accessibility. Population center P5 relatively central close employment centers, closest population second largest employment center region. Unsurprisingly, population center highest accessibility 680.6373657); Population centers (triangles) near left edge map (proximity small employment center) lowest levels job accessibility. Population center P1 quite peripheral closest employment center also smallest one. Consequently, lowest accessibility \\(A_i=\\) 17.1231653);","code":"library(AccessPack) library(dplyr) library(ggplot2) library(kableExtra) library(patchwork) library(sf) ggplot(data = toy_sim_zones) +    geom_sf(aes(color = type,               shape = type,               size = number)) +   geom_sf_text(aes(label = id_short),                size = 3,                nudge_y = -600) +   scale_size(range = c(2, 7))  +    theme(legend.position = \"bottom\",axis.text = element_blank(),         panel.grid = element_blank(),         panel.background = element_rect(size = 1,                                          color = \"black\",                                          fill = NA)) toy_sim_zones %>%   st_drop_geometry() %>%   kable(format = \"html\") beta <- 0.0015 toy_od_table <- toy_od_table %>%   mutate(f = exp(-beta * distance)) # using the origin-destination table (OD) of all origin to destination trips; filter in only jobs which are mean distance or less away from a population center and sum number of jobs available in each origin (population center) c_accessibility <- toy_od_table %>%    mutate(A_ij = f * Jobs) %>%   group_by(Origin) %>%   summarise(A_i = sum(A_ij)) #pass conventional accessibility calculation into the spatial object (toy_sim_zones) toy_sim_zones_access  <- toy_sim_zones %>%    left_join(c_accessibility,              by = c(\"id\" = \"Origin\")) toy_c_access_jobs_plot <- ggplot() +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"population\"),           aes(color = A_i,               size = A_i),           shape = 17) +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"population\"),           aes(size = A_i),           shape = 2) +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"jobs\"),           aes(size = number)) +   scale_color_distiller(palette = \"OrRd\",                         direction = 1) +   guides(size = \"none\") +    theme(legend.position = \"bottom\",axis.text = element_blank(),         panel.grid = element_blank(),         panel.background = element_rect(size = 1,                                          color = \"black\",                                          fill = NA))  toy_c_access_jobs_plot"},{"path":"/articles/A-Intro-Spatial-Avail.html","id":"what-are-the-issues","dir":"Articles","previous_headings":"","what":"What are the Issues?","title":"1. Introducing Spatial Availability","text":"Accessibility measures illustrated excellent indicators intersection urban structure transportation infrastructure. However, beyond enabling comparisons cardinality (e.g., P5 higher accessibility P1, although low still better zero) highly interpretable . First, “total accessibility” region meaningful quantity since constrained resemble, let alone match number opportunities available region. , quantity, calculated, depends number origins: since every additional origin analysis makes least one possibly opportunities destinations multiple-counted, “total accessibility” vulnerable modifiable areal unit problem. Secondly, unclear highest lowest levels accessibility region actually represent. example, individual P5 example accessibility 680.6373657 jobs. since also large population center, potentially large competition accessible jobs. words, value \\(A_i\\) sensitive size population origin seeking opportunity (case jobs), let alone population locations. unfortunately limits interpretability measure. Floating catchment areas purport account competition/congestion effects, discussed Paez, Higgins, Vivona (2019), vulnerable inflation/deflation issues, makes prone bias unless corrected. alternative, propose measure spatial availability. Spatial availability appropriate framework indivisible opportunities. opportunities , taken someone, longer available members population. Examples indivisible opportunities include jobs (person takes job, job taken someone else) seats schools (student takes seat school, particular opportunity longer another student). different perspective, employers may see workers opportunities, worker takes job, particular individual longer available pool candidates hiring. show, spatial availability singly-constrained measure accessibility. following sections describe illustrate new measure using simple numerical examples. First, describe measure. Second, calculate spatial availability jobs perspective population. , calculate spatial availability workers perspective employers. Next, illustrate calculate spatial availability catchment restrictions. Finally, compare conventional accessibility estimates proposed measure spatial availability.","code":""},{"path":"/articles/A-Intro-Spatial-Avail.html","id":"spatial-availability","dir":"Articles","previous_headings":"","what":"Spatial Availability","title":"1. Introducing Spatial Availability","text":"recent research accessibility shows (see instance Paez, Higgins, Vivona, 2019 Allen Farber (2020)), accounting competitive access meaningful way requires proportional allocations quantities accessibility calculations, normalization. issue fact multiple-counting commonplace calculating conventional accessibility \\(A_i\\) \\(=1,\\cdots,n\\). easy see realize every opportunity enters weighted sum every origin \\(\\) can reach . unfortunate effect obscuring interpretability \\(A_i\\) fails answer individual specific population center question: “many jobs accessible, jobs also accessible (possibly) numerous neighbors…high accessibility actually mean ?” spatial availability framework proposed, line gravity tradition, distinguish opportunities destination demand opportunities origin. explain analytical framework, example accessibility employment illustrative, “population” role demand “jobs” role opportunities. begin allocation based demand (number individuals population labor market “demand” employment). Consider employment center \\(j\\) \\(W_j^r\\) jobs type \\(r\\). general case \\(K\\) population centers region, following factor can defined allocate jobs proportionally based size population center: \\[ f^p_{ij} = \\frac{P_{\\r}^\\alpha}{\\sum_{k=1}^K P_{k\\r}^\\alpha} \\] \\(f^p_{ij}\\) factor proportionally allocates share jobs \\(j\\) population center \\(\\). right hand side equation, \\(P_{k\\r}\\) population location \\(k\\) eligible jobs type \\(r\\) (maybe certain level training, designated age group). add empirical parameter \\(\\alpha\\) can used modulate effect size calculations (.e., \\(\\alpha <1\\) employment centers draw rapidly small centers large centers, \\(\\alpha>1\\) employment centers draw rapidly large population centers). summation bottom \\(k=1,\\cdots,K\\), number population centers region. factors \\(f_{kj}^p\\) satisfy property \\(\\sum_k^{K} f^p_{kj} = 1\\). share jobs \\(j\\) allocated (.e., available ) population center : \\[ V_{kj} = W_jf^p_{kj} \\] since \\(\\sum_k^{K} f^p_{kj} = 1\\) follows : \\[ \\sum_{k=1}^K V_{kj} = W_j  \\] words, number jobs preserved. example, consider employment center \\(j\\) region two population centers (say \\(\\) \\(k\\)). simplicity, assume population region eligible jobs, , entirety population included set \\(r\\). allocation factors jobs \\(j\\) : \\[ \\begin{array}{l}\\ f^p_{ij} = \\frac{P_i ^\\alpha}{P_i^\\alpha + P_k^\\alpha}\\\\ f^p_{kj} = \\frac{P_k^\\alpha}{P_i^\\alpha + P_k^\\alpha}\\\\ \\end{array} \\] Suppose three hundred jobs employment center (\\(W_j = 300\\)), populations \\(P_j=240\\) \\(P_k=120\\). jobs allocated follows (assuming \\(\\alpha=1\\)): \\[ \\begin{array}{l}\\ V_{ij} = W_j\\frac{P_i^\\alpha}{P_i^\\alpha + P_k^\\alpha} = 300\\frac{240}{240 + 120} = 300\\frac{240}{360} = 200\\\\ V_{kj} = W_j\\frac{P_k^\\alpha}{P_i^\\alpha + P_k^\\alpha} = 300\\frac{120}{240 + 120} = 300\\frac{120}{360} = 100 \\\\ \\end{array} \\] can seen proportionally jobs allocated bigger center also total number jobs preserved (\\(\\sum_{k=1}^K W_{kj} = W_j\\)). factors account total number opportunities destination (.e., number jobs employment center), account location relative population centers. proportional allocation procedure insensitive far population center \\(\\) employment center \\(j\\). account effect define second set allocation factors based distance employment centers. defined : \\[ f^c_{ij} = \\frac{f(c_{ij})}{\\sum_{k=1}^K f(c_{kj})} \\] \\(c_{ij}\\) cost (e.g., distance, travel time, etc.) employment center \\(j\\) population center \\(\\), \\(f(\\cdot)\\) impedance function, monotonically decreasing function \\(c_{kj}\\). idea proportionally jobs allocated closer locations. Assume impedance function negative exponential function follows, assume \\(\\beta\\) (modulates steepness impedance effect empirical parameter) one: \\[ f(c_{ij}) = \\exp(-\\beta c_{ij}) \\] Continuing example, suppose distance population center \\(\\) employment center \\(j\\) 0.6 km, distance population center \\(k\\) employment center \\(j\\) 0.3 km. closer, expect jobs allocated population \\(\\). jobs sorted follows: \\[ \\begin{array}{l}\\ f^c_{ij} = \\frac{\\exp(-\\beta D_{ij})}{\\exp(-\\beta D_{ij}) + \\exp(-\\beta D_{kj})}\\\\ f^c_{kj} = \\frac{\\exp(-\\beta D_{kj})}{\\exp(-\\beta D_{ij}) + \\exp(-\\beta D_{kj})}\\\\ \\end{array} \\] Numerically, jobs allocation : \\[ \\begin{array}{l}\\ V^d_{ij} = W_j\\frac{\\exp(-D_{ij})}{\\exp(-D_{ij}) + \\exp(-D_{kj})} = 300\\frac{\\exp(-0.6)}{\\exp(-0.6) + \\exp(-0.3)} = 3\\times 0.426 = 127.8\\\\ V^d_{kj} = W_j\\frac{\\exp(-D_{kj})}{\\exp(-D_{ij}) + \\exp(-D_{kj})} = 300\\frac{\\exp(-0.3)}{\\exp(-0.6) + \\exp(-0.3)} = 3\\times  0.574 = 172.2\\\\ \\end{array} \\] larger share jobs allocated population center closest. , sum jobs allocated population centers matches total number jobs available. can combine proportional allocation factors population distance follows: \\[ V_{ij} = W_i\\frac{f^p_{ij} \\cdot f^c_{ij}}{\\sum_{k=1}^K f^p_{kj} \\cdot f^c_{kj}} \\] example: \\[ \\begin{array}{l}\\ V_{ij} = W_j\\cdot \\frac{f^o_{ij} \\cdot f^c_{ij}}{f^o_{ij} \\cdot f^c_{ij} + f^o_{kj} \\cdot f^c_{kj}} = 300 \\frac{\\big(\\frac{2}{3} \\big) \\big(0.426 \\big)}{\\big(\\frac{2}{3} \\big) \\big(0.426 \\big) + \\big(\\frac{1}{3} \\big) \\big(0.574 \\big)} = \\big(300 \\big)\\big(\\frac{0.284}{0.475} \\big)= 179.4\\\\ V_{kj} = W_j\\cdot \\frac{f^o_{kj} \\cdot f^c_{kj}}{f^o_{ij} \\cdot f^c_{ij} + f^o_{ik} \\cdot f^c_{ik}} = 300 \\frac{\\big(\\frac{1}{3} \\big) \\big(0.574 \\big)}{\\big(\\frac{2}{3} \\big) \\big(0.426 \\big) + \\big(\\frac{1}{3} \\big) \\big(0.574 \\big)}  = \\big(300 \\big)\\big(\\frac{0.191}{0.475} \\big)= 120.6 \\\\ \\end{array} \\] Notice fewer jobs allocated population center \\(\\) compared allocation population , account higher cost reaching employment center. hand, distance alone allocated jobs closest population center (.e., \\(k\\)), since smaller, also get smaller share jobs overall. , sum jobs employment center \\(j\\) allocated population centers \\(\\) \\(k\\) simultaneously based population- distance- based allocation preserved (.e., \\(W_{ij} + W_{kj} = W_j\\)). Availability simply sum origin: \\[ V_i = \\sum_{j=1}^J V_{ij} \\] quantity represents opportunities (e.g., jobs) can reached \\(\\) (.e., accessible), allocated competitor: therefore weighted sum available opportunities. Compare \\(V_i\\) singly-constrained gravity model (see Wilson (1971)). essence, \\(V_i\\) result constraining \\(A_i\\) match one marginals origin-destination table, known total opportunities. Since sum opportunities preserved procedures , possible calculate highly interpretable measure spatial availability per capita (call lower-case \\(v_i\\)) follows: \\[ v_i = \\frac{V_i}{P_i} \\] example : \\[ \\begin{array}{l}\\ v_{ij} = \\frac{V_{ij}}{P_i} =  \\frac{179.4}{240}\\\\ v_{kj} =  \\frac{V_{ik}}{P_k} =  \\frac{120.6}{120}\\\\ \\end{array} \\] Less competition (\\(P_k\\) smallest population center region) closer jobs clearly works favor individuals \\(k\\). overall ratio jobs population region \\(300/(240 + 120)=\\) 0.83, spatially available jobs per capita \\(k\\) closer unity. following sections use numerical example presented illustrate availability \\(V_i\\) calculated. conclude contrasting two measures final section.","code":""},{"path":"/articles/A-Intro-Spatial-Avail.html","id":"st-use-case-available-jobs-for-the-working-population","dir":"Articles","previous_headings":"Spatial Availability","what":"1st Use Case: Available Jobs for The Working Population","title":"1. Introducing Spatial Availability","text":"following examples use impedance function used illustrate accessibility calculations numerical example. spatial availability calculations implemented function sp_avail. inputs Origin-Destination table labels origins (o_id), labels destinations (d_id), population (pop) number opportunities (opp), indicator catchments eligibility constraints (r), pre-calculated impedance function (f). example, assume catchment restrictions setting r 1. value function (output) vector \\(V_ij\\) given inputs, , opportunities available \\(\\) \\(j\\): calculating spatial availability, can verify sum available jobs consistent total number jobs region: seen, total number jobs preserved. Next aggregate jobs spatially available origin-destination pair obtain \\(V_i\\): visualize outcome proceed join availability zones example: following plot shows estimates spatial availability:  see population center 5 highest level spatial availability, due large population center moreover relatively close jobs. improve interpretability measure, first note regional measure jobs per capita 0.994. calculate spatially available jobs per person population center: Plot spatial availability per person:  population centers almost two jobs available per person (compared overall regional value approximately one job per capita), others less one job available per person. mean people taking jobs. means controlling cost reaching jobs, worse jobs spatially available.","code":"toy_od_table <- toy_od_table %>%   mutate(catch = 1) %>% # No catchment restrictions, all members of the population are eligible for the opportunities   mutate(V_ij = sp_avail(.,                           o_id = Origin,                           d_id = Destination,                           pop = Population,                           opp = Jobs,                          r = catch,                          f = f)) sum(toy_od_table$V_ij) #> [1] 4500  toy_sim_zones %>%    filter(type == \"jobs\") %>%    pull(number) %>%   sum() #> [1] 4500 availability <- toy_od_table %>%   group_by(Origin) %>%   summarize(V_i = sum(V_ij)) availability #> # A tibble: 9 x 2 #>   Origin          V_i #>   <fct>         <dbl> #> 1 Population 1   67.0 #> 2 Population 2  414.  #> 3 Population 3  336.  #> 4 Population 4  745.  #> 5 Population 5 2081.  #> 6 Population 6  270.  #> 7 Population 7  256.  #> 8 Population 8  316.  #> 9 Population 9   14.9 toy_sim_zones_access <- toy_sim_zones_access %>%   left_join(availability,              by = c(\"id\" = \"Origin\")) toy_avail_jobs_plot <- ggplot() +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"population\"),           aes(color = V_i,               size = V_i),           shape = 17) +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"population\"),           aes(size = V_i),           shape = 2) +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"jobs\"),           aes(size = number,               shape = )) +   scale_color_distiller(palette = \"OrRd\",                         direction = 1)+   guides(size = \"none\") +    theme(legend.position = \"bottom\",axis.text = element_blank(),         panel.grid = element_blank(),         panel.background = element_rect(size = 1,                                          color = \"black\",                                          fill = NA))  toy_avail_jobs_plot toy_sim_zones_access <- toy_sim_zones_access %>%   mutate(v_i = V_i/number)  toy_sim_zones_access %>%    st_drop_geometry() %>%   filter(type == \"population\") %>%   select(id, v_i) #>             id        v_i #> 1 Population 1 0.25787932 #> 2 Population 2 1.62445872 #> 3 Population 3 0.65947335 #> 4 Population 4 1.50495734 #> 5 Population 5 2.03989862 #> 6 Population 6 0.55082935 #> 7 Population 7 0.26164373 #> 8 Population 8 1.21352615 #> 9 Population 9 0.05842544 toy_avail_jobs_person_plot <- ggplot() +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"population\"),           aes(color = v_i,               size = v_i),           shape = 17) +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"population\"),           aes(size = v_i),           shape = 2) +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"jobs\"),           shape = 16) +   scale_color_gradient2(midpoint = 1)+   guides(size = \"none\") +    theme(legend.position = \"bottom\",axis.text = element_blank(),         panel.grid = element_blank(),         panel.background = element_rect(size = 1,                                          color = \"black\",                                          fill = NA))  toy_avail_jobs_person_plot"},{"path":"/articles/A-Intro-Spatial-Avail.html","id":"nd-use-case-available-workers-for-employment-centers","dir":"Articles","previous_headings":"Spatial Availability","what":"2nd Use Case: Available Workers for Employment Centers","title":"1. Introducing Spatial Availability","text":"can also examine pool workers available employment center considering workers opportunities jobs population. Calculate proportional allocation jobs population (referred \\(W_ji\\)): Verify sum population allocated consistent total number population: total population preserved. Aggregate available workers employment center: Join availability toy_sim_zones_access: Plot availability estimates:  Since population preserved, can calculate available workers per job: Plot spatial availability workers per job:","code":"toy_od_table <- toy_od_table %>%   mutate(catch = 1) %>%   mutate(W_ji = sp_avail(.,                           o_id = Destination,                           d_id = Origin,                           pop = Jobs,                           opp = Population,                          r = catch,                          f = f)) sum(toy_od_table$W_ji) #> [1] 4525  toy_sim_zones %>%    filter(type == \"population\") %>%    pull(number) %>%   sum() #> [1] 4525 availability <- toy_od_table %>%   group_by(Destination) %>%   summarize(W_j = sum(W_ji)) availability #> # A tibble: 3 x 2 #>   Destination           W_j #>   <fct>               <dbl> #> 1 Employment Center 1  610. #> 2 Employment Center 2 1710. #> 3 Employment Center 3 2205. toy_sim_zones_access <- toy_sim_zones_access %>%   left_join(availability,              by = c(\"id\" = \"Destination\")) toy_avail_workers_plot <- ggplot() +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"jobs\"),           aes(color = W_j,               size = W_j),           shape = 16) +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"jobs\"),           aes(size = W_j),           shape = 1) +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"population\"),           aes(size = number),           shape = 17) +   scale_color_distiller(palette = \"OrRd\",                         direction = 1)+   guides(size = \"none\") +    theme(legend.position = \"bottom\",axis.text = element_blank(),         panel.grid = element_blank(),         panel.background = element_rect(size = 1,                                          color = \"black\",                                          fill = NA))  toy_avail_workers_plot toy_sim_zones_access <- toy_sim_zones_access %>%   mutate(w_j = W_j/number)  toy_sim_zones_access %>%    st_drop_geometry() %>%   filter(type == \"jobs\") %>%   select(id, w_j) #>                    id       w_j #> 1 Employment Center 1 0.8137264 #> 2 Employment Center 2 0.7597858 #> 3 Employment Center 3 1.4701247 toy_avail_workers_job_plot <- ggplot() +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"jobs\"),           aes(color = w_j,               size = w_j),           shape = 16) +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"jobs\"),           aes(size = w_j),           shape = 1) +   geom_sf(data = toy_sim_zones_access %>%              filter(type == \"population\"),           shape = 17) +   scale_color_gradient2(midpoint = 1)+   guides(size = \"none\") +    theme(legend.position = \"bottom\",axis.text = element_blank(),         panel.grid = element_blank(),         panel.background = element_rect(size = 1,                                          color = \"black\",                                          fill = NA))  toy_avail_workers_job_plot"},{"path":"/articles/A-Intro-Spatial-Avail.html","id":"rd-use-case-available-jobs-for-specialized-working-populations","dir":"Articles","previous_headings":"Spatial Availability","what":"3rd Use Case: Available Jobs for Specialized Working Populations","title":"1. Introducing Spatial Availability","text":"section introduce catchment/eligibility constraints. Due differences educational achievement among population, jobs Employment Center 1 can taken individuals population centers 1 2. Jobs Employment Center 2 can taken individuals population centers 3, 4, 5, 7, 8. Lastly, jobs Employment Center 3 require qualifications available among individuals population centers 5, 6, 8, 9. See figure .  Calculate proportional allocation opportunities now catchment constraint (referred \\(V_ij_r\\)): Verify sum jobs allocated consistent total number jobs: total number jobs preserved. Repeat availability calculation: Join availability toy_sim_zones_access: Plot availability estimates: Available jobs per person catchment/eligibility conditions: next plot shows availability per person without catchment restrictions: can see catchment restrictions population center 2, despite relatively peripheral, higher spatial availability due spatial specialization. catchments, spatial availability jobs declines perspective population center 4: population skills required jobs small employment center, face substantial competition population centers.","code":"toy_od_table <- toy_od_table %>%   mutate(V_ij_r = sp_avail(.,                            o_id = Origin,                            d_id = Destination,                            pop = Population,                            opp = Jobs,                            r = catchments,                            f = f)) sum(toy_od_table$V_ij_r) #> [1] 4500  sum_jobs <- toy_od_table %>% group_by(Destination) %>% summarise(Jobs = mean(Jobs)) sum(sum_jobs$Jobs, na.rm = T) #> [1] 4500 availability <- toy_od_table %>%   group_by(Origin) %>%   summarize(V_i_r = sum(V_ij_r)) availability #> # A tibble: 9 x 2 #>   Origin         V_i_r #>   <fct>          <dbl> #> 1 Population 1  104.   #> 2 Population 2  646.   #> 3 Population 3  303.   #> 4 Population 4  527.   #> 5 Population 5 2173.   #> 6 Population 6  257.   #> 7 Population 7  161.   #> 8 Population 8  322.   #> 9 Population 9    7.52 toy_sim_zones_access <- toy_sim_zones_access %>%   left_join(availability,             by = c(\"id\" = \"Origin\")) toy_sim_zones_access <- toy_sim_zones_access %>%   mutate(v_i_r = V_i_r/number)"},{"path":"/articles/A-Intro-Spatial-Avail.html","id":"comparing-accessibility-and-spatial-availability","dir":"Articles","previous_headings":"","what":"Comparing Accessibility and Spatial Availability","title":"1. Introducing Spatial Availability","text":"compare accessibility first case spatial availability illustrated . facilitate comparison, index measures lowest value corresponds index 100: figure suggests high accessibility necessarily mean high availability.","code":"indexed_measures <- toy_sim_zones_access %>%   filter(type == \"population\") %>%   mutate(A_indexed = A_i/(min(A_i)) * 100,          V_indexed = V_i/(min(V_i)) * 100) %>%   select(id, id_short, A_indexed, V_indexed)"},{"path":"/articles/A-Intro-Spatial-Avail.html","id":"how-are-the-these-measures-different","dir":"Articles","previous_headings":"Comparing Accessibility and Spatial Availability","what":"How are the these measures different?","title":"1. Introducing Spatial Availability","text":"sum spatial availability values equal total number opportunities within region. , value population center reflects many opportunities available accounting indivisibility opportunities. provides greater interpretability results. Comparatively, accessibility values associated population centers reflects many jobs can potentially reached population center; values adjusted proportionally number population (.e. workers ). Secondly, spatial availability robust modifiable unit problem, since estimates account population centers. population centers added, availability adjusts accordingly allocating opportunities proportionally. , measure spatial availability can useful way distinguish high accessibility/high population centers (potentially can result lower availability due competition), contrariwise, low accessibility/low population centers, may enjoy higher availability accessibility calculations may suggest. Remote, smaller population centers can sufficiently accessible close proximity smaller employment centers; however “sufficiency” obscured accessibility measure -inflating accessibly population centers central (larger) employment centers. Conventional accessible shed light sufficiently accessible opportunities available population. final point, note measure proposed, producing concrete interpretable number opportunities available, can meaningfully compared total number opportunities region. Likewise opportunities available per capita. important topic equity analysis. instance, considering two remote small population centers top left corner evident individuals population center 2, despite facing low nominal accessibility, relatively high number available jobs per capita.","code":""},{"path":"/articles/B-TTS2016.html","id":"empircal-example-set-up","dir":"Articles","previous_headings":"","what":"Empircal Example Set-up","title":"2. Empirical Example: TTS 2016","text":"Load packages needed example: ‘ggh_taz’ spatial object contains number workers, jobs, area (km^2) traffic analysis zone (TAZ), see workers per area:  od_ft_tt contains trips made workers jobs (Origin-Destination matrix). row contains origin ID TAZ, destination ID TAZ, trips journeys origin destination, travel_time travel time car, calculated using r5r departure 7:00am (EST5EDT) October 20th 2021 (date selected random), f impedance value. See ‘data-raw’ folder data preparation .Rmd files.","code":"library(AccessPack) library(dplyr) library(ggplot2) library(kableExtra) library(patchwork) library(sf) # library(MASS) # library(logspline) plot_ggh <- ggplot() +   geom_sf(data = ggh_taz,            aes(fill= workers/AREA), color = NA) +     scale_fill_distiller(palette = \"Spectral\", trans=\"sqrt\") +     guides(size = \"none\") +    theme(legend.position = \"right\",         panel.grid = element_blank(),         panel.background = element_rect(size = 1,                                          color = \"black\",                                          fill = NA)) plot_ggh junk <- od_ft_tt %>% select(trips, travel_time) %>% rename(Trips = trips,                                                            Travel_Time = travel_time) kable(junk %>% summary(), \"html\")"},{"path":"/articles/B-TTS2016.html","id":"fitting-impedance-function","dir":"Articles","previous_headings":"","what":"Fitting Impedance Function","title":"2. Empirical Example: TTS 2016","text":"First, create Trip length distribution (TLD) cutting travel_time 150 intervals summing trips within interval. TLD can converted probability density function likelihood travel (informed travel time) normalizing number trips proportion trips taken. form TLD (black dots) theoretical gamma distribution (red line) can adjusted fit model plotted :  Let’s see gamma approrpiate distribution; first vector every instance travel_time ~3.0 mill trips created: Next vector travel_times plotted Cullen Frey graph:  can see skewness-kurtosis graph observation similar lognormal distribution also gamma. Let’s fit try fitting vector two distributions using maximum likelihood estimation compare: Comparison empirical distribution gamma distribution:  Comparison empirical distribution lognormal distribution:  gamma distribution fit looks accurate; especially predicting longer travel times. Correspondingly, goodness fit criteria Akaike information criterion (AIC) Bayesian information criterion (BIC) gamma distribution (along lognormal exponential normal distribution reference) calculated. AIC BIC measure trade-goodness fit model simplicity model comparing candidate models; model looks like good fit high AIC BIC value indicates issues overfitting thus lower value better candidate model: Let’s plot TLD gamma theoretical distribution:  fit looks good exception outliers near peak. Let’s retain parameters gamma function use impedance function TTS 2016 dataset: Gamma function: \\[  f(x, \\alpha, \\beta) = \\frac {x^{\\alpha-1}e^{-x / \\beta }} { \\beta ^{\\alpha}\\Gamma(\\alpha)} \\quad \\text{}    0 \\leq x \\leq \\infty \\] estimated ‘shape’ \\(\\alpha\\),estimated ‘rate’ \\(\\beta\\), $() $ defined : \\[ \\Gamma(\\alpha) =  \\int_{0}^{\\infty} x^{\\alpha-1}e^{-x} \\,dx \\ \\] Let’s now add values \\(f(x, \\alpha, \\beta)\\) OD table column named ‘f’. point summary, ‘f’ captures theoretical cost travel (.e. probability travel based trip-length-distribution (PDF) empirical trips associated travel time).","code":"tld <- od_ft_tt %>%   mutate(tt_classes = cut(travel_time,                            150,                           ordered_result = TRUE)) %>%   group_by(tt_classes) %>%   summarize(trips = sum(trips),             travel_time = mean(travel_time))  # Generate a random variates which follow a gamma distribution x <- rgamma(1000, shape = 2, rate = 0.1)  # Covert to probability density function (PDF) den <- density(x) dat <- data.frame(x = den$x, y = den$y)  # Plot density as points ggplot() +    geom_point(data = dat, aes(x = x, y = y), size = 3, colour=\"red\") +   geom_point(data = tld, aes(x = travel_time, y = trips/sum(trips))) +   ylim(0, 0.08) +   theme_classic() # remove all NA trips from dataset and set all 0min travel times to 0.1min od_ft_tt  <- od_ft_tt %>% filter( !is.na(travel_time)) %>% mutate(travel_time = ifelse(travel_time == 0, 0.1, travel_time)) all_tt <- od_ft_tt  %>% dplyr::select(trips, travel_time)  all_tt <- all_tt[rep(seq_len(dim(all_tt)[1]), all_tt$trips), 2] fitdistrplus::descdist(data=all_tt) #> summary statistics #> ------ #> min:  0.1   max:  179  #> median:  18  #> mean:  21.4344  #> estimated sd:  14.61254  #> estimated skewness:  1.703326  #> estimated kurtosis:  8.353363 # using fitdist function to fit a distribution using the default maximum likelihood estimation method and Nelder-Mead method for direct optimization gamma_ <- fitdistrplus::fitdist(data=all_tt, \"gamma\", method=\"mle\", optim.method=\"Nelder-Mead\")  lnorm_ <- fitdistrplus::fitdist(data=all_tt, \"lnorm\", method=\"mle\", optim.method=\"Nelder-Mead\") norm_ <-fitdistrplus::fitdist(data=all_tt, \"norm\", method=\"mle\", optim.method=\"Nelder-Mead\") exp_ <- fitdistrplus::fitdist(data=all_tt, \"exp\", method=\"mle\", optim.method=\"Nelder-Mead\") Distribution <-  c(\"Gamma\", \"Exp\", \"Lognormal\", \"Normal\") AIC <- c(gamma_$aic, exp_$aic, lnorm_$aic, norm_$aic) BIC <- c(gamma_$bic, exp_$bic, lnorm_$bic, norm_$bic) df <- data.frame(Distribution, AIC, BIC) kable(df, \"html\") ggplot(data = tld, aes(x = travel_time, y = trips/sum(trips))) +    geom_point(size = 3) +        geom_line(aes(x=travel_time, y=dgamma(travel_time, gamma_$estimate[\"shape\"], gamma_$estimate[\"rate\"])),              color=\"red\", size = 1) +    theme_classic() kable(gamma_ %>% coef(), \"html\") #dgamma is the density plot for gamma function od_ft_tt <- od_ft_tt %>%   mutate(f = dgamma(travel_time, gamma_$estimate[\"shape\"], gamma_$estimate[\"rate\"]))"},{"path":"/articles/B-TTS2016.html","id":"accessibility-analysis","dir":"Articles","previous_headings":"","what":"Accessibility Analysis","title":"2. Empirical Example: TTS 2016","text":"Using TTS-16 dataset describe first vignette; let’s calculate accessibility using empirical dataset. impedance function already defined. Calculate accessibility: Merge accessibly calculation ggh_taz: Plot accessibility (accessible jobs TAZ): NOTE: Grey TAZs contain trips origins thus calculated A_i; 22% TAZs greyed .","code":"#add the number of jobs and workers to the od_ft_tt matrix od_ft <- od_ft_tt %>% merge(ggh_taz %>% dplyr::select(GTA06, workers) %>% st_drop_geometry(),                    by.x = \"Origin\", by.y=\"GTA06\", all.x = TRUE)  od_ft <- od_ft %>% merge(ggh_taz %>% dplyr::select(GTA06, jobs) %>% st_drop_geometry(),                    by.x = \"Destination\", by.y=\"GTA06\", all.x = TRUE)  # calculate accessibility  c_accessibility <- od_ft %>%    mutate(A_ij = f * jobs) %>%   group_by(Origin) %>%   summarise(A_i = sum(A_ij, na.rm = T),             trips_i = sum(trips, na.rm = T)) ggh_taz_acc <- ggh_taz %>% merge(c_accessibility, by.x=c(\"GTA06\"), by.y=c(\"Origin\"), all.x=T) plot_c_access <- ggplot() +   geom_sf(data = ggh_taz_acc,            aes(fill= A_i), color = NA) +   scale_fill_distiller(palette = \"Spectral\", trans=\"sqrt\")+     guides(size = \"none\") +    theme(legend.position = \"right\",         panel.grid = element_blank(),         panel.background = element_rect(size = 1,                                          color = \"black\",                                          fill = NA))  plot_c_access"},{"path":"/articles/B-TTS2016.html","id":"spatial-availability","dir":"Articles","previous_headings":"","what":"Spatial Availability","title":"2. Empirical Example: TTS 2016","text":"impedance function already defined, let’s calculate spatial availability described first vignette using TTS-16 dataset : Verify sum jobs allocated consistent total number jobs. property proportional allocation one measure’s novel contribution: total number jobs preserved. Aggregate available jobs (‘V_ij’) origin: Now merge accessibly calculation ggh_taz: Plot spatial availability (accessible available jobs TAZ):","code":"od_ft <- od_ft %>%   mutate(catch = 1) %>%   mutate(V_ij = sp_avail(.,                           o_id = Origin,                          d_id = Destination,                          pop = workers,                          opp = jobs,                          r = catch,                          f = f)) sum(od_ft$V_ij, na.rm=T) #> [1] 3073846  sum_jobs <- od_ft %>% group_by(Destination) %>% summarise(jobs = mean(jobs)) sum(sum_jobs$jobs, na.rm = T) #> [1] 3073846 availability <- od_ft %>%   group_by(Origin) %>%   summarize(V_i = sum(V_ij)) ggh_taz_acc <- ggh_taz_acc %>% merge(availability, by.x=c(\"GTA06\"), by.y=c(\"Origin\"), all.x=T) plot_avail <- ggplot() +   geom_sf(data = ggh_taz_acc,            aes(fill= V_i), color = NA) +   scale_fill_distiller(palette = \"Spectral\", trans=\"sqrt\")+     guides(size = \"none\") +    theme(legend.position = \"right\",         panel.grid = element_blank(),         panel.background = element_rect(size = 1,                                          color = \"black\",                                          fill = NA))  plot_avail"},{"path":"/articles/B-TTS2016.html","id":"comparing-accessibility-and-spatial-availability","dir":"Articles","previous_headings":"","what":"Comparing Accessibility and Spatial Availability","title":"2. Empirical Example: TTS 2016","text":"Plot origin accessibility vs. availability (City Toronto Boundary):  ggh resolution, see accessibility relatively -inflates number jobs available densely populated (higher number jobs) within Toronto area Let’s take closer look measures just within City Toronto boundary.","code":"plot_avail <- ggplot() +   geom_sf(data = ggh_taz_acc,            aes(fill= V_i), color = NA) +     scale_fill_distiller(palette = \"Spectral\", trans=\"sqrt\") +    geom_sf(data = toronto_muni_bound, colour=\"black\", fill=NA) +     guides(size = \"none\") +    theme(legend.position = \"right\",         panel.grid = element_blank(),         panel.background = element_rect(size = 1,                                          color = \"black\",                                          fill = NA))  plot_c_access <- ggplot() +   geom_sf(data = ggh_taz_acc,            aes(fill= A_i), color = NA) +     scale_fill_distiller(palette = \"Spectral\", trans=\"sqrt\") +    geom_sf(data = toronto_muni_bound, colour=\"black\", fill=NA)+     guides(size = \"none\") +    theme(legend.position = \"right\",         panel.grid = element_blank(),         panel.background = element_rect(size = 1,                                          color = \"black\",                                          fill = NA))   plot_avail / plot_c_access"},{"path":"/articles/B-TTS2016.html","id":"city-of-toronto-comparision","dir":"Articles","previous_headings":"Comparing Accessibility and Spatial Availability","what":"City of Toronto Comparision","title":"2. Empirical Example: TTS 2016","text":"many trips made Toronto outside Toronto; analysis must repeated within new boundary. Preparing Toronto spatial data:","code":"#transform CRS toronto_muni_bound <- st_transform(toronto_muni_bound, crs=32617)  #select only zones within Toronto Municipality TO_taz <- ggh_taz_acc %>%   filter(st_intersects(., toronto_muni_bound, sparse = FALSE)[,1]) %>% dplyr::select(GTA06, AREA, jobs)"},{"path":"/articles/B-TTS2016.html","id":"calculate-accessibility-for-toronto","dir":"Articles","previous_headings":"Comparing Accessibility and Spatial Availability > City of Toronto Comparision","what":"Calculate accessibility for Toronto:","title":"2. Empirical Example: TTS 2016","text":"calculating origins anywhere ggh destinations Toronto:","code":"#jobs at destinations IN Toronto and origins from anywhere; workers are associated with the origin (ggh) and jobs with the destination (Toronto) TO_od_ft <- od_ft %>% dplyr::select(-V_ij) %>% filter(Destination %in% TO_taz$GTA06)  #calculate accessibility for workers from any origin to jobs in Toronto  TO_c_accessibility <- TO_od_ft %>%    mutate(TO_A_ij = f * jobs) %>%   group_by(Origin) %>%   summarise(TO_A_i = sum(TO_A_ij, na.rm = T),             trips_i = sum(trips, na.rm = T))  #Merge TO accessibly calculation to the ggh_taz: TO_taz_acc <- ggh_taz %>% merge(TO_c_accessibility, by.x=c(\"GTA06\"), by.y=c(\"Origin\"), all.y=T)"},{"path":"/articles/B-TTS2016.html","id":"now-calculated-spatial-availability-for-toronto","dir":"Articles","previous_headings":"Comparing Accessibility and Spatial Availability > City of Toronto Comparision","what":"Now calculated spatial availability for Toronto:","title":"2. Empirical Example: TTS 2016","text":", clculating origins anywhere ggh destinations Toronto: Verify sum jobs allocated consistent total number jobs. property proportional allocation one measure’s novel contribution: total number jobs preserved. Aggregate available jobs (‘TO_V_ij’) origin merge: Plot origin accessibility vs. availability Toronto","code":"#calculate spatial availability TO_od_ft <- TO_od_ft %>%   mutate(TO_V_ij = sp_avail(.,                           o_id = Origin,                          d_id = Destination,                          pop = workers,                          opp = jobs,                          r = catch,                          f = f)) sum(TO_od_ft$TO_V_ij, na.rm=T) #> [1] 1318359  sum_jobs <- TO_od_ft %>% group_by(Destination) %>% summarise(jobs = mean(jobs)) sum(sum_jobs$jobs, na.rm = T) #> [1] 1318359 TO_availability <- TO_od_ft %>%   group_by(Origin) %>%   summarize(TO_V_i = sum(TO_V_ij))   #Merge TO availability calculation to the TAZ sf object created for accessibility above: TO_taz_acc <- TO_taz_acc %>% merge(TO_availability, by.x=c(\"GTA06\"), by.y=c(\"Origin\"), all.x=T) plot_avail <- ggplot() +   geom_sf(data = TO_taz_acc,           aes(fill= TO_V_i), color = NA) +     scale_fill_distiller(palette = \"Spectral\",  trans = \"sqrt\")+     guides(size = \"none\") +    theme(legend.position = \"right\",         panel.grid = element_blank(),         panel.background = element_rect(size = 1,                                          color = \"black\",                                          fill = NA)) plot_c_access <- ggplot() +   geom_sf(data = TO_taz_acc,            aes(fill= TO_A_i), color = NA) +     scale_fill_distiller(palette = \"Spectral\", trans = \"sqrt\")+     guides(size = \"none\") +    theme(legend.position = \"right\",         panel.grid = element_blank(),         panel.background = element_rect(size = 1,                                          color = \"black\",                                          fill = NA))  plot_avail / plot_c_access"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Anastasia Soukhov. Author, maintainer. Antonio Paez. Author.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Soukhov , Paez (2021). AccessPack: Spatial Availability Function Sample Datasets including Real-World 2016 TTS Data Trips Work Hypothetical Toy Data. R package version 0.0.0.9000.","code":"@Manual{,   title = {AccessPack: Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data},   author = {Anastasia Soukhov and Antonio Paez},   year = {2021},   note = {R package version 0.0.0.9000}, }"},{"path":"/index.html","id":"a-data-package-to-accompany-spatial-availability-measure","dir":"","previous_headings":"","what":"Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data","title":"Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data","text":"repository contains working files data-package accompany newly proposed proportionally allocated accessibility measure referred spatial availability. measure within family transport planning accessibility measures. data-package used Spatial Availability Measure manuscript (currently work progress). files still collaborative work process. Contributors: Anastasia Soukhov, Antonio Paez, Chris Higgins, Moataz Mohamed. data-package, includes toy data, empirical data, proposed spatial availability function (sp_avail), developed vignettes demonstrating analysis comparison conventional accessibility spatial availability.","code":""},{"path":"/index.html","id":"what-empirical-data-is-included","dir":"","previous_headings":"","what":"What empirical data is included?","title":"Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data","text":"2016 Transportation Tomorrow Survey (TTS) data Greater Golden Horseshoe (GGH) area province Ontario, Canada (43.6°N 79.73°W) included; specifically location origins destinations defined Traffic Analysis Zones (TAZ), number jobs workers origin destination, trips origin destination morning home--work commute. Also included calculated travel times car (calculated via r5r) derived impedance function values corresponding cost travel based trip length distribution.","code":""},{"path":"/index.html","id":"setup","dir":"","previous_headings":"","what":"Setup","title":"Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data","text":"Installation: Libraries:","code":"if (!require(\"remotes\", character.only = TRUE)) {       install.packages(\"remotes\")   } remotes::install_github(\"soukhova/AccessPack\",                         build_vignettes = TRUE) library(AccessPack) library(tidyverse) library(ggplot2) library(kableExtra) library(patchwork)"},{"path":"/index.html","id":"toy-data-overview","dir":"","previous_headings":"","what":"Toy Data Overview","title":"Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data","text":"data hypothetical created explain spatial availability measure first vignette. See location number opportunities employment centers population centers plot :  sample OD table (Employment Center 1) theoretical toy data:","code":""},{"path":"/index.html","id":"tts-2016-data-overview","dir":"","previous_headings":"","what":"TTS 2016 Data Overview","title":"Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data","text":"accessibility spatial availability TTS 2016 data analysed second vignette. See plot spatial visualization number workers jobs within TAZ:  Sample TTS 2016 OD data (OD pairs 2 trips): Summary statistics TTS 2016 OD data, trips number journeys origin destination, calculated travel_time car, f impedance value: See .Rmd \\data-raw folder additional details datasets compiled. See vignettes detailed examples using datasets comparing comparison conventional accessibility spatial availability (function sp_avail) measures.","code":""},{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 AccessPack2 authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/reference/AccessPack-package.html","id":null,"dir":"Reference","previous_headings":"","what":"AccessPack: Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data — AccessPack-package","title":"AccessPack: Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data — AccessPack-package","text":"repository contains working files data-package accompany newly proposed _proportionally allocated_ accessibility measure referred **spatial availability**. measure within family transport planning accessibility measures. data-package used **Spatial Availability Measure** manuscript [](https://github.com/soukhova/Spatial-Availability-Measure) (current work progress).","code":""},{"path":"/reference/AccessPack-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"AccessPack: Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data — AccessPack-package","text":"https://github.com/soukhova/Spatial-Availability-Measures-Package","code":""},{"path":"/reference/AccessPack-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"AccessPack: Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data — AccessPack-package","text":"Maintainer: Anastasia Soukhov soukhoa@mcmaster.ca (ORCID) Authors: Antonio Paez paezha@mcmaster.ca (ORCID) Antonio Paez, School Earth, Environment Society, McMaster University paezha@mcmaster.ca Anastasia Soukhov, School Earth, Environment Society, McMaster University soukhoa@mcmaster.ca","code":""},{"path":"/reference/AccessPack2-package.html","id":null,"dir":"Reference","previous_headings":"","what":"AccessPack2: Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data — AccessPack2-package","title":"AccessPack2: Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data — AccessPack2-package","text":"repository contains working files data-package accompany newly proposed _proportionally allocated_ accessibility measure referred **spatial availability**. measure within family transport planning accessibility measures. data-package used **Spatial Availability Measure** manuscript [](https://github.com/soukhova/Spatial-Availability-Measure) (current work progress).","code":""},{"path":"/reference/AccessPack2-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"AccessPack2: Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data — AccessPack2-package","text":"https://github.com/soukhova/Spatial-Availability-Measures-Package","code":""},{"path":"/reference/AccessPack2-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"AccessPack2: Spatial Availability Function and Sample Datasets including Real-World 2016 TTS Data and Trips To Work Hypothetical Toy Data — AccessPack2-package","text":"Maintainer: Anastasia Soukhov soukhoa@mcmaster.ca (ORCID) Authors: Antonio Paez paezha@mcmaster.ca (ORCID) Antonio Paez, School Earth, Environment Society, McMaster University paezha@mcmaster.ca Anastasia Soukhov, School Earth, Environment Society, McMaster University soukhoa@mcmaster.ca","code":""},{"path":"/reference/ggh_taz.html","id":null,"dir":"Reference","previous_headings":"","what":"ggh_taz — ggh_taz","title":"ggh_taz — ggh_taz","text":"object contains traffic analysis zones (TAZ) sourced 2016 Transportation Tomorrow Survey (TTS) Greater Golden Horseshoe (GGH) area.","code":""},{"path":"/reference/ggh_taz.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ggh_taz — ggh_taz","text":"","code":"data(ggh_taz)"},{"path":"/reference/ggh_taz.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ggh_taz — ggh_taz","text":"simple feature class (sf) polygon object containing 3764 rows 5 variables; row represents unique TAZ associated features. GTA06 Unique ID traffic analysis zone (TAZ). AREA Area TAZ units km^2. workers number full-time workers within TAZ. jobs number jobs within TAZd. geometry sfc polygon geometry (boundaries) TAZ.","code":""},{"path":"/reference/ggh_taz.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"ggh_taz — ggh_taz","text":"\"2016 Transportation Tomorrow Survey\" data management group accessed November 14 2021.","code":""},{"path":"/reference/hamilton_cma.html","id":null,"dir":"Reference","previous_headings":"","what":"hamilton_cma — hamilton_cma","title":"hamilton_cma — hamilton_cma","text":"object defines spatial boundary City Hamilton.","code":""},{"path":"/reference/hamilton_cma.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"hamilton_cma — hamilton_cma","text":"","code":"data(hamilton_cma)"},{"path":"/reference/hamilton_cma.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"hamilton_cma — hamilton_cma","text":"simple feature class (sfc) multipolygon object containing 1 row.","code":""},{"path":"/reference/hamilton_cma.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"hamilton_cma — hamilton_cma","text":"\"City boundary\" Hamilton Open Data accessed November 8 2021.","code":""},{"path":"/reference/od_ft_tt.html","id":null,"dir":"Reference","previous_headings":"","what":"od_ft_tt — od_ft_tt","title":"od_ft_tt — od_ft_tt","text":"object contains trips made origin (TAZ) destination (TAZ) full-time workers work destinations; sourced 2016 Transportation Tomorrow Survey (TTS) Greater Golden Horseshoe (GGH) area. Also contained within calculated car travel time trip assuming 7:00 departure centroid TAZ Oct. 20 2021.","code":""},{"path":"/reference/od_ft_tt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"od_ft_tt — od_ft_tt","text":"","code":"data(od_ft_tt)"},{"path":"/reference/od_ft_tt.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"od_ft_tt — od_ft_tt","text":"dataframe containing 103076 rows 4 variables; row represents unique trip origin TAZ destination TAZ associated features. Origin unique ID origin traffic analysis zone (TAZ). Destination unique ID destination traffic analysis zone (TAZ). Persons number people making trip. travel_time car travel time origin destination assuming 7:00 departure TAZ centroids Oct. 20 2021.","code":""},{"path":"/reference/od_ft_tt.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"od_ft_tt — od_ft_tt","text":"\"2016 Transportation Tomorrow Survey\" Data Management Group accessed November 14 2021. Travel times calculated using r5r","code":""},{"path":"/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"/reference/sp_avail.html","id":null,"dir":"Reference","previous_headings":"","what":"Input OD-table with Origins, Destinations, Population, Jobs, Catchment binary identification, and a pre-calculated impedance function f — sp_avail","title":"Input OD-table with Origins, Destinations, Population, Jobs, Catchment binary identification, and a pre-calculated impedance function f — sp_avail","text":"Input OD-table Origins, Destinations, Population, Jobs, Catchment binary identification, pre-calculated impedance function f","code":""},{"path":"/reference/sp_avail.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Input OD-table with Origins, Destinations, Population, Jobs, Catchment binary identification, and a pre-calculated impedance function f — sp_avail","text":"","code":"sp_avail(x, o_id, d_id, pop, opp, r, f, alpha = 1)"},{"path":"/reference/sp_avail.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Input OD-table with Origins, Destinations, Population, Jobs, Catchment binary identification, and a pre-calculated impedance function f — sp_avail","text":"x data frame origin-destination information, including identifiers origins, destinations, population, opportunities, pre-calculated impedance function o_id name column data frame x contains unique origin identifiers d_id name column data frame x contains unique destination identifiers pop name column data frame x contains population opp name column data frame x contains opportunities r name column data frame x contains catchment restrictions, column 1s none f name column data frame x contains values impedance function alpha number string name column data frame x contains values impedance function","code":""},{"path":"/reference/sp_avail.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Input OD-table with Origins, Destinations, Population, Jobs, Catchment binary identification, and a pre-calculated impedance function f — sp_avail","text":"vector number opportunities available o_id d_id","code":""},{"path":"/reference/toronto_muni_bound.html","id":null,"dir":"Reference","previous_headings":"","what":"toronto_muni_bound — toronto_muni_bound","title":"toronto_muni_bound — toronto_muni_bound","text":"object defines spatial boundary City Toronto","code":""},{"path":"/reference/toronto_muni_bound.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"toronto_muni_bound — toronto_muni_bound","text":"","code":"data(toronto_muni_bound)"},{"path":"/reference/toronto_muni_bound.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"toronto_muni_bound — toronto_muni_bound","text":"simple feature class (sfc) multipolygon object containing 1 row.","code":""},{"path":"/reference/toronto_muni_bound.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"toronto_muni_bound — toronto_muni_bound","text":"\"Regional Municipal boundary\" Toronto Open Data accessed November 20 2021.","code":""},{"path":"/reference/toy_od_table.html","id":null,"dir":"Reference","previous_headings":"","what":"toy_od_table — toy_od_table","title":"toy_od_table — toy_od_table","text":"object contains hypothetical toy example Population, Jobs, Distance, Catchment Origin-Destination trip. Randomly generated.","code":""},{"path":"/reference/toy_od_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"toy_od_table — toy_od_table","text":"","code":"data(toy_od_table)"},{"path":"/reference/toy_od_table.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"toy_od_table — toy_od_table","text":"dataframe containing 27 rows 6 variables; row represents unique trip \"Population\" \"Employment Center\" associated features. Origin unique ID \"Population\" 1 9 Destination unique ID \"Employment Center\" 1 3 Population population corresponding \"Population\" ID. Jobs number jobs corresponding \"Employment Center\" ID. distance distance origin destination (unitless). catchments binary code indicating origin-destination trip eligible (details can used within vignette). trips Randomly generated number trips made origin destination.","code":""},{"path":"/reference/toy_sim_zones.html","id":null,"dir":"Reference","previous_headings":"","what":"toy_sim_zones — toy_sim_zones","title":"toy_sim_zones — toy_sim_zones","text":"object contains geometries hypothetical toy example Origin Destination trip zones. Randomly generated.","code":""},{"path":"/reference/toy_sim_zones.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"toy_sim_zones — toy_sim_zones","text":"","code":"data(toy_sim_zones)"},{"path":"/reference/toy_sim_zones.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"toy_sim_zones — toy_sim_zones","text":"simple feature class (sfc) multipolygon object containing 12 rows 5 variables; row represents unique \"Population\" \"Employment Center\" zone associated features. id unique ID \"Population\" (1 9) \"Employment Center\" (1 3) id_short short unique ID number population corresponding ID. type number jobs corresponding ID. geometry sfc polygon geometry (boundaries) ID.","code":""}]
